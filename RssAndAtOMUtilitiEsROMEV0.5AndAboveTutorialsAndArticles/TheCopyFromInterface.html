<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-04-24
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="mkurz" />
    <meta name="Date-Creation-yyyymmdd" content="20110815" />
    <meta name="Date-Revision-yyyymmdd" content="20160424" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ROME - The CopyFrom interface</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/rometools/rome">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../index.html" id="bannerLeft">
                                                                                                <img src="../images/romelogo.png"  alt="ROME"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
            
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2016-04-24</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 1.7.0-SNAPSHOT</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Rome</li>
                                
      <li>
    
                          <a href="../index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                                                                                                                                                              
      <li>
    
                          <a href="../HowRomeWorks/index.html" title="How Rome Works">
          <i class="icon-chevron-right"></i>
        How Rome Works</a>
                  </li>
                  
      <li>
    
                          <a href="../RssAndAtOMUtilitiEsROMEV0.5AndAboveTutorialsAndArticles/index.html" title="Tutorials And Articles">
          <i class="none"></i>
        Tutorials And Articles</a>
            </li>
                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../ROMEReleases/index.html" title="Releases">
          <i class="icon-chevron-right"></i>
        Releases</a>
                  </li>
                  
      <li>
    
                          <a href="../ROMEDevelopmentProposals/index.html" title="ROME Development Proposals">
          <i class="none"></i>
        ROME Development Proposals</a>
            </li>
                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../Modules/index.html" title="Modules">
          <i class="icon-chevron-right"></i>
        Modules</a>
                  </li>
                                                                                                                                                                                                                                            
      <li>
    
                          <a href="../Fetcher/index.html" title="Fetcher">
          <i class="icon-chevron-right"></i>
        Fetcher</a>
                  </li>
                  
      <li>
    
                          <a href="../Opml/index.html" title="OPML">
          <i class="none"></i>
        OPML</a>
            </li>
                  
      <li>
    
                          <a href="../Propono/index.html" title="Propono">
          <i class="none"></i>
        Propono</a>
            </li>
                                                                    
      <li>
    
                          <a href="../Certiorem/index.html" title="Certiorem">
          <i class="icon-chevron-right"></i>
        Certiorem</a>
                  </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>The CopyFrom interface<a name="The_CopyFrom_interface"></a></h2>
<p>The CopyFrom interface defines functionality similar to a deep cloning. The difference with the clone() method (besides the deep cloning requirements) is that the object to be the copy of the original one has to be explicitly created and it is this object the one that triggers the deep copying process. Implemetations of the CopyFrom interface should work propertly on arrays, collections, CopyFrom and basic type properties.</p>
<p>Using CopyFrom objects enables copying data between different implementations of a given interface without these implementation having to know about each other.</p>
<p>CopyFrom is unidirectional. A class implementing the CopyFrom knows how to extract properties from the given class (commonly having an interface in common).</p>
<p>A simple example using the CopyFrom interface is:</p>
<div class="source">
<pre>
    public interface Foo extends CopyFrom {
        public void setName(String name);
        public String getName();

        public void setValues(Set values);
        public Set getValues();
    }

    public class FooImplA implements Foo {
        private String _name;
        private Set _values;

        public void setName(String name) {
            _name = name;
        }

        public String getName() {
            return _name;
        }

        public void setValues(Set values) {
            _values = values;
        }

        public Set getValues() {
            return _values;
        }

        public void copyFrom(Object obj) {
            Foo other = (Foo) obj;
            setName(other.getName());
            setValues(new HashSet(other.getValues());
        }

        public Class getInterface() {
            return Foo.class;
        }
    }

    public class FooImplB implements Foo {
        private Map _data;

        public FooImplB() {
            _data = new HashMap();
        }

        public void setName(String name) {
            _data.put(&quot;name&quot;,name);
        }

        public String getName() {
            return (String) _data.get(&quot;name&quot;);
        }

        public void setValues(Set values) {
            _data.put(&quot;values&quot;,values);
        }

        public Set getValues() {
            return (Set) _data.get(&quot;values&quot;);
        }

        public void copyFrom(Object obj) {
            Foo other = (Foo) obj;
            setName(other.getName());
            setValues(new HashSet(other.getValues());
        }

        public Class getInterface() {
            return Foo.class;
        }
    }
</pre></div>
<p>A use case for the CopyFrom functionality is a Java Bean implementation of an interface and a persistency implementation (such as Hibernate) of the the same interface that may add extra persistency related properties to the bean (ie, the 'Id' property as the persistency layer primary key).</p>
<p>For bean, array and collection properties the bean being invoked which copyFrom() method is invoked is responsible for those properties.</p>
<p>For properties implementing the CopyFrom interface, the bean must create a property instance implementing the interface returned by the getInterface() method. This allows the bean doing the copyFrom() to handle specialized subclasses of property elements propertly. This is also applicacle to array and collection properties. The 'modules' property of the SyndFeed and SyndEntry beans is a use case of this feature where the copyFrom() invocation must create different beans subclasses for each type of module, the getInteface() helps to find the right implementation.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2016.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
