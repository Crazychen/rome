<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-07-22
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="mkurz" />
    <meta name="Date-Creation-yyyymmdd" content="20110815" />
    <meta name="Date-Revision-yyyymmdd" content="20170722" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ROME - Rome v0.2 Tutorial, Using Rome to aggregate many syndication feeds into a single one</title>
    <link rel="stylesheet" href="../../../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../../../css/site.css" />
    <link rel="stylesheet" href="../../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/rometools/rome">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../../index.html" id="bannerLeft">
                                                                                                <img src="../../../images/romelogo.png"  alt="ROME"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
            
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2017-07-22</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 1.7.5-SNAPSHOT</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Rome</li>
                                
      <li>
    
                          <a href="../../../index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                                                                                                                                                              
      <li>
    
                          <a href="../../../HowRomeWorks/index.html" title="How Rome Works">
          <i class="icon-chevron-right"></i>
        How Rome Works</a>
                  </li>
                  
      <li>
    
                          <a href="../../../RssAndAtOMUtilitiEsROMEV0.5AndAboveTutorialsAndArticles/index.html" title="Tutorials And Articles">
          <i class="none"></i>
        Tutorials And Articles</a>
            </li>
                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../../../ROMEReleases/index.html" title="Releases">
          <i class="icon-chevron-right"></i>
        Releases</a>
                  </li>
                  
      <li>
    
                          <a href="../../../ROMEDevelopmentProposals/index.html" title="ROME Development Proposals">
          <i class="none"></i>
        ROME Development Proposals</a>
            </li>
                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../../../Modules/index.html" title="Modules">
          <i class="icon-chevron-right"></i>
        Modules</a>
                  </li>
                                                                                                                                                                                                                                            
      <li>
    
                          <a href="../../../Fetcher/index.html" title="Fetcher">
          <i class="icon-chevron-right"></i>
        Fetcher</a>
                  </li>
                  
      <li>
    
                          <a href="../../../Opml/index.html" title="OPML">
          <i class="none"></i>
        OPML</a>
            </li>
                  
      <li>
    
                          <a href="../../../Propono/index.html" title="Propono">
          <i class="none"></i>
        Propono</a>
            </li>
                                                                    
      <li>
    
                          <a href="../../../Certiorem/index.html" title="Certiorem">
          <i class="icon-chevron-right"></i>
        Certiorem</a>
                  </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="../../../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Rome v0.2 Tutorial, Using Rome to aggregate many syndication feeds into a single one<a name="Rome_v0.2_Tutorial_Using_Rome_to_aggregate_many_syndication_feeds_into_a_single_one"></a></h2>
<p><b>Software requirements:</b> J2SE 1.4+, JDOM B10 and Rome 0.2.</p>
<p>Rome represents syndication feeds (RSS and Atom) as instances of the com.rometools.rome.synd.SyndFeedI interface. The SyndFeedI interfaces and its properties follow the Java Bean patterns. The default implementations provided with Rome are all lightweight classes.</p>
<p>Rome includes parsers to process syndication feeds into SyndFeedI instances. The SyndFeedInput class handles the parsers using the correct one based on the syndication feed being processed. The developer does not need to worry about selecting the right parser for a syndication feed, the SyndFeedInput will take care of it by peeking at the syndication feed structure. All it takes to read a syndication feed using Rome are the following 2 lines of code:</p>
<div class="source">
<pre>
SyndFeedInput input = new SyndFeedInput();
SyndFeedI feed = input.build(feedUrl.openStream());
</pre></div>
<p>The first line creates a SyndFeedInput instance that will work with any syndication feed type (RSS and Atom versions). The second line instructs the SyndFeedInput to read the syndication feed from the InputStream of a URL pointing to the feed. The SyndFeedInput.build() method returns a SyndFeedI instance that can be easily processed.</p>
<p>Rome also includes generators to create syndication feeds out of SyndFeedI instances. The SyndFeedOutput class does this generation. The SyndFeedOutput will generate a syndication feed of the feed type indicated by the SyndFeedI object being output. The following two lines of code show how to create a syndication feed output from a SyndFeedI instance:</p>
<div class="source">
<pre>
SyndFeedOutput output = new SyndFeedOutput();
output.output(feed,System.out);
</pre></div>
<p>The first line creates a SyndFeedOutput instance that will produce syndication feeds. It can output feeds of any type (rss_0.9, rss_0.91, rss_0.92, rss_0.93, rss_0.94, rss_1.0, rss_2.0 &amp; atom_0.3), the SyndFeedI feedType property indicates the type. The second line writes the SyndFeedI as a syndication feed into the application's output.</p>
<p>SyndFeedI can also be created and populated within the code. For example:</p>
<div class="source">
<pre>
SyndFeedI aggrFeed = new SyndFeed();
aggrFeed.setFeedType(&quot;rss_1.0&quot;);
aggrFeed.setTitle(&quot;Aggregated Feed&quot;);
aggrFeed.setDescription(&quot;Anonymous Aggregated Feed&quot;);
aggrFeed.setAuthor(&quot;anonymous&quot;);
aggrFeed.setLink(&quot;http://www.anonymous.com&quot;);
</pre></div>
<p>The snipped of code above creates a SyndFeedI instance using the default implementation provided by Rome, sets the feed type to RSS 1.0, sets the title, description, author and link properties of the feed.</p>
<p>SyndFeedI properties can be modified, assigned to other SyndFeedI instances, removed, etc. It's important to remember that the getters/setters semantics defined for all SyndFeedI properties (and properties of its properties) is a copy by reference, not by value. In other words if you alter the property of a SyndFeedI property you are altering the SyndFeedI. Or, another example, if you assign the list of entries of one SyndFeedI instance to another SyndFeedI isntance and then you modify the list or any of the entries in the list, you are modifying the entries of both SyndFeedI instances.</p>
<p>The following lines of code show how to copy the entries of a SyndFeedI instance being read (inFeed) into a SyndFeedI instance being created within the application (feed):</p>
<div class="source">
<pre>
package com.rometools.rome.samples;

import java.net.URL;
import java.util.List;
import java.util.ArrayList;

import com.rometools.rome.feed.synd.SyndFeedI;
import com.rometools.rome.feed.synd.SyndFeed;
import com.rometools.rome.io.SyndFeedOutput;
import com.rometools.rome.io.SyndFeedInput;

/**
 * It aggregates a list of RSS/Atom feeds (they can be of different types)
 * into a single feed of the specified type.
 * &lt;p&gt;
 * @author Alejandro Abdelnur
 *
 */
public class FeedAggregator {

    public static void main(String[] args) {
        boolean ok = false;
        if (args.length&gt;=2) {
            try {
                String outputType = args[0];

                SyndFeedI feed = new SyndFeed();
                feed.setFeedType(outputType);

                feed.setTitle(&quot;Aggregated Feed&quot;);
                feed.setDescription(&quot;Anonymous Aggregated Feed&quot;);
                feed.setAuthor(&quot;anonymous&quot;);
                feed.setLink(&quot;http://www.anonymous.com&quot;);

                List entries = new ArrayList();
                feed.setEntries(entries);

                for (int i=1;i&lt;args.length;i++) {
                    URL inputUrl = new URL(args[i]);

                    SyndFeedInput input = new SyndFeedInput();
                    SyndFeedI inFeed = input.build(inputUrl.openStream());

                    entries.addAll(inFeed.getEntries());

                }

                SyndFeedOutput output = new SyndFeedOutput();
                output.output(feed,System.out);

                ok = true;
            }
            catch (Exception ex) {
                System.out.println(&quot;ERROR: &quot;+ex.getMessage());
            }
        }

        if (!ok) {
            System.out.println();
            System.out.println(&quot;FeedAggregator aggregates different feeds into a single one.&quot;);
            System.out.println(&quot;The first parameter must be the feed type for the aggregated feed.&quot;);
            System.out.println(&quot; [valid values are: rss_0.9, rss_0.91, rss_0.92, rss_0.93, ]&quot;);
            System.out.println(&quot; [                  rss_0.94, rss_1.0, rss_2.0 &amp; atom_0.3  ]&quot;);
            System.out.println(&quot;The second to last parameters are the URLs of feeds to aggregate.&quot;);
            System.out.println();
        }
    }

}
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2017.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
